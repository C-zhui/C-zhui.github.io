<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.14">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="C-zhui的小破站 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="C-zhui的小破站 Atom Feed"><title data-react-helmet="true">Git | C-zhui的小破站</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://your-docusaurus-test-site.com/docs/general/git"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Git | C-zhui的小破站"><meta data-react-helmet="true" name="description" content="git 是很重要的分支、版本管理工具，帮助开发团队更好的沟通协作。"><meta data-react-helmet="true" property="og:description" content="git 是很重要的分支、版本管理工具，帮助开发团队更好的沟通协作。"><link data-react-helmet="true" rel="icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://your-docusaurus-test-site.com/docs/general/git"><link data-react-helmet="true" rel="alternate" href="https://your-docusaurus-test-site.com/docs/general/git" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://your-docusaurus-test-site.com/docs/general/git" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.f83f813a.css">
<link rel="preload" href="/assets/js/runtime~main.81fb996a.js" as="script">
<link rel="preload" href="/assets/js/main.d3ae54c9.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_TMUO themedImage--dark_uzRr"></div><b class="navbar__title">C-Zhui的博客</b></a><a class="navbar__item navbar__link navbar__link--active" href="/docs/intro">知识</a><a class="navbar__item navbar__link" href="/blog">日志</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/C-zhui" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_iYfV toggle_2i4l toggleDisabled_xj38"><div class="toggleTrack_t-f2" role="button" tabindex="-1"><div class="toggleTrackCheck_mk7D"><span class="toggleIcon_pHJ9">🌜</span></div><div class="toggleTrackX_dm8H"><span class="toggleIcon_pHJ9">🌞</span></div><div class="toggleTrackThumb_W6To"></div></div><input type="checkbox" class="toggleScreenReader_h9qa" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">前端知识链接</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/fe/state/tools">前端</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/algo/sort">算法</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/ds/priorityQueue">数据结构</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_TwRn" href="/docs/general/git">通用知识</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/general/git">Git</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Git</h1></header><p>git 是很重要的分支、版本管理工具，帮助开发团队更好的沟通协作。</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="安装">安装<a class="hash-link" href="#安装" title="Direct link to heading">​</a></h2><p>官网 <a href="https://git-scm.com/download/mac" target="_blank" rel="noopener noreferrer">https://git-scm.com/download/mac</a> 点击链接下载</p><p>mac 上可以终端输入 <code>brew install git</code> 安装</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="可选安装">可选安装<a class="hash-link" href="#可选安装" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="oh-my-zsh">oh my zsh<a class="hash-link" href="#oh-my-zsh" title="Direct link to heading">​</a></h3><p><code>sh -c &quot;$(curl -fsSL https://raw.github.com/ohmyzsh/ohmyzsh/master/tools/install.sh)&quot;</code></p><p>内置了很多 git 命令别名，可以通过 <code>alias</code> 查看</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="tig">tig<a class="hash-link" href="#tig" title="Direct link to heading">​</a></h3><p>tig 可以方便查看 log</p><p>终端输入 <code>brew install tig</code> 安装</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="git-lens">Git Lens<a class="hash-link" href="#git-lens" title="Direct link to heading">​</a></h3><p>这是个 VS Code 插件，可以很方便地翻看提交历史、文件历史、diff</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="配置-用户名-和-email">配置 用户名 和 email<a class="hash-link" href="#配置-用户名-和-email" title="Direct link to heading">​</a></h2><p>使用下面的命令填入</p><div class="codeBlockContainer_J+bg language-sh theme-code-block"><div class="codeBlockContent_csEI sh"><pre tabindex="0" class="prism-code language-sh codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">git config --global user.name &quot;your name&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git config --global user.email your_email@example.com</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_y2LR" id="生成-ssh-key">生成 ssh key<a class="hash-link" href="#生成-ssh-key" title="Direct link to heading">​</a></h2><div class="codeBlockContainer_J+bg language-sh theme-code-block"><div class="codeBlockContent_csEI sh"><pre tabindex="0" class="prism-code language-sh codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">cd ~</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mkdir .ssh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd .ssh </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ssh-keygen # 一路回车即可</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>可以看到生成了 id_rsa、id_rsa.pub， 一个公钥一个私钥，私钥自己留着，公钥需要注册到远程托管服务器。</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="配置-github-ssh-key">配置 github SSH Key<a class="hash-link" href="#配置-github-ssh-key" title="Direct link to heading">​</a></h2><ol><li>复制 id_rsa.pub 的内容</li><li>在 github 的 设置页 找到 <code>SSH and GPG keys</code>，点击 <code>new SSH key</code>，并粘贴 id_rsa.pub 的内容</li><li>之后便可以正常的 clone 仓库，提交推送代码，当然其他的托管平台也是一样的做法。</li></ol><h2 class="anchor anchorWithStickyNavbar_y2LR" id="创建本地仓库">创建本地仓库<a class="hash-link" href="#创建本地仓库" title="Direct link to heading">​</a></h2><div class="codeBlockContainer_J+bg language-sh theme-code-block"><div class="codeBlockContent_csEI sh"><pre tabindex="0" class="prism-code language-sh codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">git init</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo init project &gt; README</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git add .</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git commit -m &quot;chore: init project&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 设置远程仓库，push 代码</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_y2LR" id="或者-克隆远程仓库">或者 克隆远程仓库<a class="hash-link" href="#或者-克隆远程仓库" title="Direct link to heading">​</a></h2><p>从远程克隆仓库是比较常见的操作，随意进入一个 github 仓库，点击 Code 下拉按钮，复制 git 协议链接，以 MUI 为例，
<code>git@github.com:mui-org/material-ui.git</code>，在合适的文件夹下面，终端执行 <code>git clone git@github.com:mui-org/material-ui.git</code> 即可克隆仓库。</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="概念">概念<a class="hash-link" href="#概念" title="Direct link to heading">​</a></h2><ol><li>远程仓库，在服务器上存放的 git 仓库。</li><li>本地仓库，经过 git init 或者 git clone 得到的本地仓库，项目文件夹下的隐藏文件夹 .git 就是本地仓库。</li><li>工作区，当前正在修改的文件，都属于工作区。</li><li>暂存区，经过 git add 的文件，被 git 记录到后续 commit 命令的操作对象集合中。</li><li>索引区，所有提交入库的文件都在索引区，一旦进入索引区，不管后面怎么修改，都可以通过命令回退版本文件。</li></ol><h2 class="anchor anchorWithStickyNavbar_y2LR" id="常用的指令">常用的指令<a class="hash-link" href="#常用的指令" title="Direct link to heading">​</a></h2><ol><li>git add <!-- -->[. | files]<!-- -->，添加文件到暂存区。</li><li>git commit ，打开 vim 编辑，完事儿 :wq 保存提交信息退出，此时就已经对暂存区的文件完成了一次提交。使用 git log 可以查看提交内容。</li><li>git merge <!-- -->[other-branch]<!-- -->，将其他分支合入当前的分支，如果出现冲突，该文件会出现特殊的分割线，分割线上方是当前分支的内容，分割线下方是其他分支的内容（使用 VS Code 查看会有高亮提示），操作者可以选择保留其一或者都保留。</li><li>git push，将代码推送到远程分支中，如果远程分支不存在，会有提示设置 up-stream。如果推送前有回退操作，需要 git push -f 强推（谨慎操作，要通知到所有在这分支上工作的人）。</li><li>git stash，将当前的暂存区内容放入 git 的栈中（当然可以通过 -k 和 -u 调节这个行为），通常是为了切换别的分支去完成其他工作，再回来继续完成当前分支的内容。但是实践中并不推荐使用这个命令，因为有一定概率会忘记 <code>git stash pop</code>，过了一阵子又突然发现有东西没有复原出来，这时候 <code>git stash pop</code> 很大概率出冲突，所以一般是直接将暂存区提交，给自己一个提交信息暗示，比如 <code>chore: temp commit</code>，不推送到远程，后续再软回退。</li><li>git reset --soft <!-- -->[commit]<!-- -->，软回退，回退提交至目标提交点，并把沿途的提交更改回退到暂存区，上一条中就可以使用 <code>git reset --soft HEAD~</code> 来退回暂存的提交。</li><li>git reset --hard <!-- -->[commit]<!-- -->，硬回退、强行对齐，指针直接对过去，放弃沿途的一切修改。</li><li>git revert <!-- -->[commit]<!-- -->，反向提交，将单一的提交点改动反过来应用一遍，相当于没有做过这个提交的修改，用于消除本次提交的影响。也可以 revert 一个 revert 点，负负得正，再把修改返回去。</li><li>git cherry-pick <!-- -->[commit]<!-- -->，将一个提交的修改应用在当前的分支中，提交通常应该不存在于当前的分支。用于在不合并代码的前提下应用提交修改。</li><li>git rebase <!-- -->[commit]<!-- -->，变基操作，可用于合并分支，通常是两个人同时在改同一分支时，一人提交到了远程，另一人需要 pull 代码合并，但是不想出现 merge 提交点，这时候可以使用 <code>git pull -r</code>，相当于 <code>git fetch</code> + <code>git rebase origin/当前分支</code>。其行为等同于 硬回退 到共同祖先提交后，先应用变基目标提交的修改，再应用当前分支提交的修改。如果变基导致偏离远程分支，那么需要通过强推（谨慎操作），最好只在前面描述的场景下使用。</li><li>git reflog，查看 HEAD 指针历史，救命的技能，如果你误操作了，比如硬回退完了又 push 了代码，远程仓库也找不回来了，这时候不要急，<code>git reflog</code> 可以找到当前的 HEAD 在硬回退前的提交，复制 commit id，再执行一次 <code>git reset --hard [commit_id]</code> ，就能够恢复了。</li></ol><p>以上操作已经可以满足大部分工作需要，大部分也可以通过 VS Code 版本管理界面来完成。</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/ds/priorityQueue"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">优先队列</div></a></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#安装" class="table-of-contents__link toc-highlight">安装</a></li><li><a href="#可选安装" class="table-of-contents__link toc-highlight">可选安装</a><ul><li><a href="#oh-my-zsh" class="table-of-contents__link toc-highlight">oh my zsh</a></li><li><a href="#tig" class="table-of-contents__link toc-highlight">tig</a></li><li><a href="#git-lens" class="table-of-contents__link toc-highlight">Git Lens</a></li></ul></li><li><a href="#配置-用户名-和-email" class="table-of-contents__link toc-highlight">配置 用户名 和 email</a></li><li><a href="#生成-ssh-key" class="table-of-contents__link toc-highlight">生成 ssh key</a></li><li><a href="#配置-github-ssh-key" class="table-of-contents__link toc-highlight">配置 github SSH Key</a></li><li><a href="#创建本地仓库" class="table-of-contents__link toc-highlight">创建本地仓库</a></li><li><a href="#或者-克隆远程仓库" class="table-of-contents__link toc-highlight">或者 克隆远程仓库</a></li><li><a href="#概念" class="table-of-contents__link toc-highlight">概念</a></li><li><a href="#常用的指令" class="table-of-contents__link toc-highlight">常用的指令</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"></div></div></footer></div>
<script src="/assets/js/runtime~main.81fb996a.js"></script>
<script src="/assets/js/main.d3ae54c9.js"></script>
</body>
</html>